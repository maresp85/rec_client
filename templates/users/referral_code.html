{% load static %}

<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Tarjeta Digital - Código Referido</title>

		<link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.svg' %}">
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
		<link href="{% static 'bootstrap-5/css/bootstrap.min.css' %}" rel="stylesheet">
		<link href="{% static 'bootstrap-icons-5/bootstrap-icons.css' %}" rel="stylesheet">
		<link href="{% static 'css/custom.css' %}" rel="stylesheet" type="text/css">
	</head>

	<body class="d-flex flex-column min-vh-100">

		<!-- Navbar -->
		<nav class="navbar td-navbar">
			<div class="container">
				<a class="navbar-brand" href="/">
					<svg width="32" height="32" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
						<rect width="64" height="64" rx="12" fill="rgba(255,255,255,0.15)"/>
						<text x="32" y="44" font-family="Arial, sans-serif" font-size="30" font-weight="bold" fill="#ffffff" text-anchor="middle">TD</text>
					</svg>
					<span>Tarjeta Digital</span>
				</a>
			</div>
		</nav>

		<!-- Referral Code Form -->
		<div class="td-login-container">
			<div class="td-login-card">
				<div class="text-center mb-4">
					<svg width="56" height="56" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
						<rect width="64" height="64" rx="12" fill="#1e3a5f"/>
						<text x="32" y="44" font-family="Arial, sans-serif" font-size="30" font-weight="bold" fill="#ffffff" text-anchor="middle">TD</text>
					</svg>
					<h5 class="td-login-title mt-3">Código del Referido</h5>
				</div>

				<form id="id_form_login" action="" method="post">
					{% csrf_token %}

					{% if form.non_field_errors %}
					<div class="alert alert-danger py-2" style="font-size:0.85rem; border-radius:0.5rem;">
						<i class="bi bi-exclamation-circle me-1"></i>
						{{ form.non_field_errors.as_text }}
					</div>
					{% endif %}

					<div class="mb-3">
						<label for="referred_code" class="td-form-label">Código de referido</label>
						<p style="font-size:0.8rem; color: var(--td-text-muted); margin-bottom:0.5rem;">
							Digite el código que le proporcionó el cliente que lo refirió
						</p>
						<input
							type="text"
							class="form-control td-form-control"
							name="referred_code"
							placeholder="Código del referido"
							required
						/>
						{% if form.referred_code.errors %}
						<span class="text-danger mt-1" style="font-size:0.8rem;">{{ form.referred_code.errors }}</span>
						{% endif %}
					</div>

					<div class="d-grid gap-2">
						<button id="id_submit" class="btn td-btn-primary" type="submit">
							<i class="bi bi-box-arrow-in-right me-1"></i>
							<span id="id_submit_label">Ingresar</span>
						</button>
						<a class="btn td-btn-secondary" href="{% url 'login' %}">
							<i class="bi bi-arrow-left me-1"></i> Atrás
						</a>
					</div>
				</form>
			</div>
		</div>

		<!-- Footer -->
		<footer class="td-footer mt-auto">
			<div class="container">
				<div class="d-flex flex-column flex-md-row align-items-center justify-content-between gap-2">
					<div class="d-flex align-items-center gap-2">
						<svg width="24" height="24" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
							<rect width="64" height="64" rx="12" fill="rgba(255,255,255,0.15)"/>
							<text x="32" y="44" font-family="Arial, sans-serif" font-size="30" font-weight="bold" fill="#ffffff" text-anchor="middle">TD</text>
						</svg>
						<span class="td-footer-brand">Tarjeta Digital</span>
						<span class="td-footer-divider mx-2">|</span>
						<span>digitalrec.info</span>
					</div>
					<div style="font-size:0.8rem; opacity:0.7;">
						&copy; {% now "Y" %} Tarjeta Digital
					</div>
				</div>
			</div>
		</footer>

		<script src="{% static 'bootstrap-5/js/bootstrap.bundle.min.js' %}" type="text/javascript"></script>
	</body>
</html>
